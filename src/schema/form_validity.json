{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "FormValidity",
  "definitions": {
    "errorType": {
      "title": "ErrorTypeEnum",
      "type": "string",
      "enum": ["empty", "invalid"]
    },
    "fieldValidity": {
      "type": "object",
      "title": "FieldValidity",
      "additionalProperties": false,
      "properties": {
        "isValid": {
          "type": "boolean"
        },
        "errorType": {
          "$ref": "#/definitions/errorType"
        }
      },
      "required": ["isValid"]
    }
  },
  "properties": {
    "isFormValid": {
      "type": "boolean"
    },
    "triggeredBy": {
      "title": "FieldTypeEnum",
      "type": "string",
      "enum": [
        "cardNumber",
        "cardholderName",
        "cvv",
        "deferred",
        "expirationDate"
      ]
    },
    "fields": {
      "title": "Fields",
      "additionalProperties": false,
      "properties": {
        "cardholderName": {
          "$ref": "#/definitions/fieldValidity"
        },
        "cardNumber": {
          "$ref": "#/definitions/fieldValidity"
        },
        "cvv": {
          "$ref": "#/definitions/fieldValidity"
        },
        "deferred": {
          "$ref": "#/definitions/fieldValidity"
        },
        "expirationDate": {
          "$ref": "#/definitions/fieldValidity"
        }
      },
      "required": ["cardholderName", "cardNumber", "cvv", "expirationDate"]
    }
  },
  "required": ["fields", "isFormValid"],
  "type": "object"
}
